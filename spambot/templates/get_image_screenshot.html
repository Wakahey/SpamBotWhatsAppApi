<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Изображение с другого сайта</title>
    <style>
        #imageContainer {
            max-width: 600px;
            margin: 20px auto;
        }

        #razborkaImage {
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>

<div id="imageContainer">
    <img id="razborkaImage" src="http://127.0.0.1:8000/request/api/image/" alt="Изображение с другого сайта">
</div>

<script>
    // Функция для обновления изображения
    function updateImage() {
        const imageElement = document.getElementById('razborkaImage');

        // Обновляем src изображения с новым параметром
        imageElement.src = `http://127.0.0.1:8000/request/api/image/`;

        // После загрузки изображения
        imageElement.onload = function () {
            console.log('Изображение успешно загружено');
        };

        // Обработка ошибок загрузки
        imageElement.onerror = function () {
            console.error('Ошибка при загрузке изображения');
        };
    }

    // Вызываем функцию обновления при загрузке страницы
    window.onload = updateImage;

    // Вызываем функцию обновления каждые 5 секунд
    setInterval(updateImage, 5000);
</script>

</body>
</html>

